{"version":3,"file":"confirm-dialog.component.js","sourceRoot":"","sources":["file:///C:/Users/yujuiting/Documents/projects/ng2-window-view/src/components/confirm-dialog/confirm-dialog.component.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAAkE,eAAe,CAAC,CAAA;AAClF,wBAAwB,cAAc,CAAC,CAAA;AAEvC,iBACoC,QAAQ,CAAC,CAAA;AAQ7C;IAAA;QAEE,UAAK,GAAW,SAAS,CAAC;QAG1B,kBAAa,GAAW,IAAI,CAAC;QAG7B,eAAU,GAAW,QAAQ,CAAC;QAM9B,SAAI,GAAW,GAAG,CAAC;QAGnB,WAAM,GAAsB,IAAI,mBAAY,EAAE,CAAC;QAG/C,YAAO,GAAsB,IAAI,mBAAY,EAAE,CAAC;QAKxC,aAAQ,GAAqB,IAAI,iBAAO,EAAE,CAAC;IAoBrD,CAAC;IAlBC,sBAAI,2CAAO;aAAX,cAAqC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;;;OAAA;IAE3E,wCAAO,GAAP;QACE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACzB,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;QACzB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC;IACnD,CAAC;IAED,qCAAI,GAAJ;QACE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC1B,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;QACzB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC,CAAC;IACpD,CAAC;IAEO,wCAAO,GAAf;QACE,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;QACzB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC;IACtC,CAAC;IA3CD;QAAC,YAAK,EAAE;;yDAAA;IAGR;QAAC,YAAK,EAAE;;iEAAA;IAGR;QAAC,YAAK,EAAE;;8DAAA;IAGR;QAAC,YAAK,EAAE;;2DAAA;IAGR;QAAC,YAAK,EAAE;;wDAAA;IAGR;QAAC,aAAM,EAAE;;0DAAA;IAGT;QAAC,aAAM,EAAE;;2DAAA;IAGT;QAAC,gBAAS,CAAC,+BAA4B,CAAC;;uEAAA;IA5B1C;QAAC,gBAAS,CAAC;YACT,QAAQ,EAAE,gBAAgB;YAC1B,WAAW,EAAE,8CAA8C;YAC3D,SAAS,EAAE,CAAC,6CAA6C,CAAC;YAC1D,UAAU,EAAE,CAAC,+BAA4B,CAAC;SAC3C,CAAC;;8BAAA;IA8CF,6BAAC;AAAD,CAAC,AA7CD,IA6CC;AA7CY,8BAAsB,yBA6ClC,CAAA","sourcesContent":["import { Component, Input, Output, EventEmitter, ViewChild } from '@angular/core';\r\nimport { Subject } from 'rxjs/Subject';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { WindowViewContainerComponent,\r\n         WindowViewHasResult } from '../../';\r\n\r\n@Component({\r\n  selector: 'confirm-dialog',\r\n  templateUrl: 'confirm-dialog/confirm-dialog.component.html',\r\n  styleUrls: ['confirm-dialog/confirm-dialog.component.css'],\r\n  directives: [WindowViewContainerComponent]\r\n})\r\nexport class ConfirmDialogComponent implements WindowViewHasResult<boolean> {\r\n  @Input()\r\n  title: string = 'Confirm';\r\n\r\n  @Input()\r\n  confirmString: string = 'Ok';\r\n\r\n  @Input()\r\n  denyString: string = 'Cancel';\r\n\r\n  @Input()\r\n  content: string;\r\n\r\n  @Input()\r\n  size: string = 's';\r\n\r\n  @Output()\r\n  result: EventEmitter<any> = new EventEmitter();\r\n\r\n  @Output()\r\n  dismiss: EventEmitter<any> = new EventEmitter();\r\n\r\n  @ViewChild(WindowViewContainerComponent)\r\n  windowViewContainer: WindowViewContainerComponent;\r\n\r\n  private _result$: Subject<boolean> = new Subject();\r\n\r\n  get result$(): Observable<boolean> { return this._result$.asObservable(); }\r\n\r\n  confirm() {\r\n    this._result$.next(true);\r\n    this._result$.complete();\r\n    this.result.emit({ target: this, result: true });\r\n  }\r\n\r\n  deny() {\r\n    this._result$.next(false);\r\n    this._result$.complete();\r\n    this.result.emit({ target: this, result: false });\r\n  }\r\n\r\n  private onClose() {\r\n    this._result$.complete();\r\n    this.dismiss.emit({ target: this });\r\n  }\r\n}"]}